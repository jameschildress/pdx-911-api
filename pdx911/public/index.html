<!DOCTYPE html>
<html>

  <head>
    <title>PDX 911 Dispatches API</title>
    <style>

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body, html {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        padding: 0;
        margin: 0;
      }

      section {
        padding: 15px 20px;
        border-bottom: 1px solid #aaa;
      }
      
      #pdx911-header, #pdx911-footer {
        background: #333;
        color: #fff;
      }
      
      #pdx911-header a, #pdx911-footer a {
        color: #eee;
        text-decoration: none;
        border-bottom: 1px dashed #fff;
      }
      
      #pdx911-header a:hover, #pdx911-footer a:hover {
        color: #aef;
      }

      #pdx911-jsonp {
        background: #eee;
        color: #555;
      }
      
      h1 {
        margin-bottom: 5px;
        font-weight: 300;
        font-size: 48px;
      }
      
      h1 sup {
        color: #777;
        font-size: 26px;
        font-weight: normal;
        line-height: 1;
      }

      h2 {
        margin-bottom: 5px;
      }
      
      h3 {
        margin: 10px 0 5px 20px ;
      }
      
      p, dd, dt {
        line-height: 1.5;
      }
      
      code {
        color: #a40;
        font-family: 'Courier New', monospace;
        font-weight: bold;
      }
      
      dl {
        margin-left: 20px;
        display: table;
      }
      
      dl div {
        display: table-row;
      }
      
      dl div dd, dl div dt {
        border-top: 1px solid #ccc;
        padding: 2px 20px 2px 0;
      }

      dl div:first-child dd, dl div:first-child dt {
        border-top: none;
      }
      
      dd {
        display: table-cell;
      }
      
      dt {
        display: table-cell;
        font-family: 'Courier New', monospace;
        font-weight: bold;
        color: #a40;
      }

    </style>
  </head>
  
  
  
  
  <body>

    <section id="pdx911-header">
      <h1>PDX 911 Dispatches API <sup>v1.0</sup></h1>
      <p>
        Fetch data scraped from
        <a href="http://www.civicapps.org/datasets/911-dispatch-incidents-georss">Portland's 911 RSS feed</a>
        since December 19, 2013.
      </p>
    </section>
    
    <section id="pdx911-jsonp">
      <h2>JSON or JSONP</h1>
      <p>
        Data is returned as a JSON array by default.
        <br/>
        To receive JSONP, add the
        <code>callback=[name]</code> parameter to any request, where
        <code>[name]</code> is the name of the function with which the JSON will be padded.
      </p>
    </section>
    
    <section class="pdx911-route">
      <h2>GET <code>/agencies</code></h2>
      <p>Returns an array of every agency to which a dispatch may be assigned.</p>
      <h3>Attributes</h3>
      <dl>
        <div><dt>id</dt>   <dd>The unique ID of this agency.</dd></div>
        <div><dt>name</dt> <dd>The name of the agency.</dd></div>
      </dl>
    </section>
    
    <section class="pdx911-route">
      <h2>GET <code>/categories</code></h2>
      <p>Returns an array of every category of dispatch.</p>
      <h3>Attributes</h3>
      <dl>
        <div><dt>id</dt>   <dd>The unique ID of this category.</dd></div>
        <div><dt>name</dt> <dd>The name of this category.</dd></div>
      </dl>
    </section>
    
    <section class="pdx911-route">
      <h2>GET <code>/dispatches</code></h2>
      <p>
        Returns an array of dispatches, sorted by date, beginning with the most recent dispatch.
        <br/>
        A maximum of 100 dispatches is returned.
      </p>
      <h3>Parameters</h3>
      <dl>
        <div>
          <dt>offset</dt>
          <dd>
            The number of dispatches by which the results should be offset.
            <br/>
            For example, if your query exceeds the 100-dispatch limit,
            <code>offset=100</code> would return the second 'page' of results.
          </dd>
        </div>
        <div><dt>category</dt> <dd>Only dispatches belonging to the category with this ID will be returned.</dd></div>
        <div><dt>agency</dt>   <dd>Only dispatches belonging to the agency with this ID will be returned.</dd></div>
        <div><dt>before</dt>   <dd>Only dispatches before this date (in seconds since the Unix epoch) will be returned.</dd></div>
        <div><dt>after</dt>    <dd>Only dispatches on or after this date (in seconds since the Unix epoch) will be returned.</dd></div>
      </dl>
      <h3>Attributes</h3>
      <dl>
        <div><dt>id</dt>          <dd>The unique ID of this dispatch.</dd></div>
        <div><dt>category_id</dt> <dd>The ID of the category to which this dispatch belongs.</dd></div>
        <div><dt>agency_id</dt>   <dd>The ID of the agency assigned to this dispatch.</dd></div>
        <div><dt>uid</dt>         <dd>A unique identified assigned to this dispatch.</dd></div>
        <div><dt>date</dt>        <dd>The date and time on which this dispatch occurred.</dd></div>
        <div><dt>location</dt>    <dd>The latitude and longitude at which this dispatch occurred.</dd></div>
        <div><dt>address</dt>     <dd>A description of the approximate location at which this dispatch occurred.</dd></div>
      </dl>
    </section>
    
    <section id="pdx911-footer">
      <p>
        API and feed-scraping by
        <a href="https://github.com/jameschildress">James Childress</a>.
      </p>
    </section>
    
  </body>
  
</html>
